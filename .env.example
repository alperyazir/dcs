# Dream Central Storage - Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# Domain
# This would be set to the production domain with an env var on deployment
# used by Traefik to transmit traffic and acquire TLS certificates
DOMAIN=localhost
# To test the local Traefik config
# DOMAIN=localhost.tiangolo.com

# Traefik Configuration (Production only)
# Email for Let's Encrypt certificate notifications
# Required when using docker-compose.traefik.yml
EMAIL=admin@example.com
# Username and hashed password for Traefik dashboard (generate with htpasswd)
# USERNAME=admin
# HASHED_PASSWORD=$apr1$xyz...

# Used by the backend to generate links in emails to the frontend
FRONTEND_HOST=http://localhost:5173
# In staging and production, set this env var to the frontend host, e.g.
# FRONTEND_HOST=https://dashboard.example.com

# Environment: local, staging, production
ENVIRONMENT=local

PROJECT_NAME='Dream Central Storage'
STACK_NAME=dream-central-storage

# Backend
BACKEND_CORS_ORIGINS="http://localhost,http://localhost:5173,https://localhost,https://localhost:5173,http://localhost.tiangolo.com"
# Generate with: openssl rand -hex 32
SECRET_KEY=changeme-generate-with-openssl-rand-hex-32

# JWT RS256 Keys (Asymmetric signing for enhanced security)
# Generate key pair with:
#   openssl genrsa -out keys/private.pem 2048
#   openssl rsa -in keys/private.pem -pubout -out keys/public.pem
# Then set these variables (multiline values supported):
# JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
# JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----"
# For local dev, generate keys and set them here:
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=
# Token expiry (defaults: ACCESS=30 min, REFRESH=7 days)
# ACCESS_TOKEN_EXPIRE_MINUTES=30
# REFRESH_TOKEN_EXPIRE_DAYS=7

FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=changeme-use-strong-password

# Emails
SMTP_HOST=
SMTP_USER=
SMTP_PASSWORD=
EMAILS_FROM_EMAIL=info@example.com
SMTP_TLS=True
SMTP_SSL=False
SMTP_PORT=587

# Postgres
POSTGRES_SERVER=localhost
POSTGRES_PORT=5432
POSTGRES_DB=app
POSTGRES_USER=postgres
# Generate with: openssl rand -hex 16
POSTGRES_PASSWORD=changeme-generate-with-openssl-rand-hex-16

SENTRY_DSN=

# Logging Configuration
# LOG_LEVEL: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
LOG_LEVEL=INFO
# LOG_FORMAT: json (structured), text (human-readable) (default: json)
LOG_FORMAT=json

# MinIO Object Storage
MINIO_ROOT_USER=minioadmin
# Generate with: openssl rand -hex 32
MINIO_ROOT_PASSWORD=changeme-generate-with-openssl-rand-hex-32
MINIO_ENDPOINT=minio:9000
MINIO_USE_SSL=false
MINIO_BUCKET_NAME=assets
# MinIO Server-Side Encryption (SSE-S3 with AES-256)
# Generate encryption key with: openssl rand -base64 32
# CRITICAL: Store this key securely - losing it means losing access to encrypted data!
MINIO_KMS_SECRET_KEY_NAME=dream-storage-key
MINIO_KMS_SECRET_KEY=changeme-generate-with-openssl-rand-base64-32

# Presigned URL Configuration (Story 3.2)
# Upload URLs: 15 minutes TTL for security (default: 900 seconds)
# PRESIGNED_URL_UPLOAD_EXPIRES_SECONDS=900
# Download URLs: 1 hour TTL for classroom usage (default: 3600 seconds)
# PRESIGNED_URL_DOWNLOAD_EXPIRES_SECONDS=3600
# Stream URLs: 1 hour TTL for video/audio streaming (default: 3600 seconds)
# PRESIGNED_URL_STREAM_EXPIRES_SECONDS=3600

# Configure these with your own Docker registry images
DOCKER_IMAGE_BACKEND=backend
DOCKER_IMAGE_FRONTEND=frontend
